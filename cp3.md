- (97p) Redis에서 제공하는 커맨드는 어플리케이션 레벨에서도 구현이 가능하지만, Redis 자료구조에 내장된 함수를 이용해 원하는 가능을 사용하면 데이터를 어플리케이션의 메모리 영역으로 가져간 뒤 가공하는 데에 걸리는 시간을 줄일 수 있기 때문에 오히려 더 좋은 성능을 낼 수 있음

### Sorted Set과 리더보드
#### 절대적 리더보드
- 서비스의 모든 유저를 정렬시켜 상위권의 목록만을 표시

#### 상대적 리더보드
- 사용자의 스코어를 기반으로 다른 사용자와 비교해 순위를 결정하는 리더보드
	- ex : 본인의 순위를 알려주는 리더보드, 특정 그룹 내에서 순위를 보여주는 리더보드

##### Sorted Set
- Redis에서 Sorted Set 데이터는 저장될 때부터 정렬되어 들어감
- 만약 유저의 스코어를 Sorted Set의 가중치로 설정하면 스코어 순으로 유저가 정렬되기 때문에 리더보드의 데이터를 읽어오기 위해 매번 데이터를 정렬할 필요가 없음
``` redis 
ZADD daily-score:220817 28 player:286
ZADD daily-score:220817 400 player:234
ZADD daily-score:220817 45 player:101
ZADD daily-score:220817 357 player:24
ZADD daily-score:220817 199 player:143
```
``` redis
ZRANGE daily-score:220817 0 -1 withscores // 오름차순으로 정렬된 데이터를 보여줌
```
- ZRANGE는 스코어가 낮은 순서부터 출력
- 만약 게임의 첫 화면으로 오늘의 상위 스코어 3명의 유저만 출력하고 싶다면 다음과 같이 ZREVRANGE 커맨드를 사용할 수 있음
``` redis
ZREVRANGE daily-score:220817 0 2 withscores
```
- 만약 player:286이 게임을 해서 데이터를 업데이트 해야한다면 다음 커맨드로 쉽게 변경 가능
``` redis
ZADD daily-score:220817 200 player:286
```
- sorted set은 기본적으로 set이기 때문에 데이터는 중복으로 저장되지 않으며, 같은 아이템을 저장하고자 할 때 스코어가 다르면 업데이트가 됨
	- 업데이트 된 데이터에 따라 데이터의 순서도 자동 정렬됨

#### 만약 RDBMS 였다면
- 난제 1 ) 모든 유저의 변경 데이터를 실시간으로 업데이트
- 난제 2 ) 점수별로 데이터를 정렬해서 가져오는 작업 자체가 DB에 부하를 줌
- 난제 3 ) 유저가 증가할수록 계산해야하는 데이터의 크기는 배로 늘어남
